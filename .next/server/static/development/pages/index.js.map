{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/Lap.js","webpack:///./components/LapRunner.js","webpack:///./components/Runner.js","webpack:///./components/Timer.js","webpack:///./helpers/helpers.js","webpack:///./pages/index.js","webpack:///external \"react\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","import { formatTime } from \"../helpers/helpers\";\nexport default class Lap extends React.Component {\n  render() {\n    const { label, time } = this.props;\n    return (\n      <div className=\"lap\">\n        <label className=\"lap__label\">{this.props.label}</label>\n        <h3 className=\"lap__clock\">{formatTime(this.props.time)}</h3>\n      </div>\n    );\n  }\n}\n","import Lap from \"./Lap\";\nimport { convertToCentiSeconds } from \"../helpers/helpers\";\n\nconst LapRunner = ({ name, pos, laps, addLap }) => (\n  <div style={{ margin: \"5px\", padding: \"10px\", border: \"3px dotted red\" }}>\n    <label>Runner {pos + 1}: </label>\n    <label>{name}</label>\n    <br />\n    <button onClick={() => addLap(pos, convertToCentiSeconds(Date.now()))}>\n      Add Lap\n    </button>\n    <button disabled>End Run</button>\n    {laps\n      .slice(0)\n      .reverse()\n      .map((lap, i) => {\n        const lapNumber = laps.length - i;\n        // const lapNumber = i + 1;\n        // label={`Lap #${lapNumber}`} time={lap}\n        //\n        return <Lap key={lapNumber} label={`Lap #${lapNumber}`} time={lap} />;\n      })}\n  </div>\n);\n\nexport default LapRunner;\n","import { formatTime } from \"../helpers/helpers\";\nexport default class Runner extends React.Component {\n  render() {\n    const { name, position, removeRunner } = this.props;\n    return (\n      <div>\n        <span>\n          Runner#{position + 1}: {name}{\" \"}\n        </span>\n        <span>\n          <button onClick={() => removeRunner(position)}>Remove</button>\n        </span>\n      </div>\n    );\n  }\n}\n","import { formatTime } from \"../helpers/helpers\";\n\nconst Timer = ({ label, time }) => (\n  <div>\n    <h1>{label}</h1>\n    <h2>{formatTime(time)}</h2>\n  </div>\n);\n\n// function Timer({ stars }) {\n//   return <div>Next stars: {stars}</div>\n// }\n\nexport default Timer;\n","export function formatTime(timeInCentiSeconds) {\n  let minutes = Math.floor(timeInCentiSeconds / 6000);\n  let seconds = Math.floor((timeInCentiSeconds % 6000) / 100);\n  let centiSeconds = timeInCentiSeconds % 100;\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  if (seconds < 10) {\n    seconds = `0${seconds}`;\n  }\n  if (centiSeconds < 10) {\n    centiSeconds = `0${centiSeconds}`;\n  }\n  return `${minutes}:${seconds}.${centiSeconds}`;\n}\n\nexport function convertToCentiSeconds(timeInMilliseconds) {\n  return Math.round(timeInMilliseconds * 0.1);\n}\n","import { convertToCentiSeconds } from \"../helpers/helpers\";\nimport Timer from \"../components/Timer\";\nimport LapRunner from \"../components/LapRunner\";\nimport Runner from \"../components/Runner\";\n\nconst initialState = {\n  /**\n   * Epoch timestamp of when the timer was started in centiseconds\n   */\n  started: null,\n\n  /**\n   * Total time recorded when stopping the timer in centiseconds\n   */\n  recordedTime: 0,\n\n  /**\n   * Sum of lap times in centiseconds\n   * Setting this value on each lap so it doesn't need to be\n   * calculated when rendering\n   */\n  lapTotal: [0],\n\n  /**\n   * Array of lap times in centiseconds. New laps are prepended, so the list is in reverse\n   */\n  laps: [[]],\n  runnersSelected: false,\n  runners: [],\n  nextRunnerName: \"Alex\"\n};\n\nexport default class HomePage extends React.Component {\n  state = {\n    started: null,\n    recordedTime: 0,\n    lapTotal: 0,\n    laps: [[]],\n    runnersSelected: false,\n\n    runners: [],\n    nextRunnerName: \"Alex\"\n  };\n\n  componentDidMount() {\n    this.tick();\n  }\n\n  componentDidUpdate() {\n    requestAnimationFrame(this.tick.bind(this));\n  }\n\n  tick() {\n    if (this.state.started) {\n      const now = convertToCentiSeconds(Date.now());\n      const totalTime = now - this.state.started + this.state.recordedTime;\n      this.setState({\n        now,\n        totalTime,\n        currentLapTime: totalTime - this.state.lapTotal\n      });\n    } else {\n      if (this.state.recordedTime !== this.state.totalTime) {\n        this.setState({\n          totalTime: this.state.recordedTime,\n          currentLapTime: this.state.recordedTime - this.state.lapTotal\n        });\n      }\n    }\n  }\n\n  startTimer = time => {\n    console.log(\"=== startTimer ===\");\n\n    if (this.state.runners.length == 0) {\n      console.log(\"default runner added\");\n      this.addRunner();\n    }\n\n    let allLaps = [];\n    let allLapTotals = [];\n\n    this.state.runners.map(runner => {\n      allLaps[runner] = [];\n      allLapTotals[runner] = 0;\n    });\n\n    this.setState({\n      started: time,\n      runnersSelected: true,\n      laps: allLaps,\n      lapTotal: allLapTotals\n    });\n  };\n\n  stopTimer = time => {\n    console.log(\"=== stopTimer ===\");\n    // recordedTime: state.recordedTime + action.time - state.started,\n    //     started: null\n    this.setState({\n      recordedTime: this.state.recordedTime + time - this.state.started,\n      started: null\n    });\n  };\n\n  resetTimer = () => {\n    console.log(\"=== resetTimer ===\");\n    this.setState(initialState);\n  };\n\n  addLap = (position, time) => {\n    console.log(\"=== addLap ===\");\n\n    //for multi runner we'll identify which runner's lap we're updating\n    const myRunner = this.state.runners[position];\n\n    const myRunnersLapTotal = this.state.laps[myRunner].reduce(\n      (prev, cur) => prev + cur,\n      0 // 0 is the initial value\n    );\n\n    const lapTime =\n      time - this.state.started + this.state.recordedTime - myRunnersLapTotal;\n\n    const myRunnersLapTotalUpdated = myRunnersLapTotal + lapTime;\n\n    let lapTotal = this.state.lapTotal;\n    lapTotal[position] = myRunnersLapTotalUpdated;\n\n    let allLaps = this.state.laps;\n    let currentRunnerLapList = allLaps[this.state.runners[position]];\n    currentRunnerLapList.push(lapTime);\n    allLaps[this.state.runners[position]] = currentRunnerLapList;\n\n    this.setState({\n      lapTotal: lapTotal,\n      laps: allLaps\n    });\n\n    ///////////////\n    // let allLaps = [];\n    // let allLapTotals = [];\n\n    // this.state.runners.map(runner => {\n    //   allLaps[runner] = [];\n    //   allLapTotals[runner] = 0;\n    // });\n\n    // this.setState({\n    //   started: time,\n    //   runnersSelected: true,\n    //   laps: allLaps,\n    //   lapTotal: allLapTotals\n    // });\n  };\n\n  updateNextRunnerName = evt => {\n    this.setState({\n      nextRunnerName: evt.target.value\n    });\n  };\n\n  addRunner = () => {\n    if (this.state.nextRunnerName == \"\") {\n      alert(\"Name Cannot be blank\");\n    } else if (this.state.runners.includes(this.state.nextRunnerName)) {\n      alert(\"Name '\" + this.state.nextRunnerName + \"' Already exists\");\n    } else {\n      let newRunners = this.state.runners;\n      newRunners.push(this.state.nextRunnerName);\n\n      console.log(newRunners);\n\n      this.setState({\n        runners: newRunners,\n        nextRunnerName: \"\"\n      });\n    }\n  };\n\n  removeRunner = pos => {\n    if (this.state.runners.length > 1) {\n      let listOfRunners = this.state.runners;\n      listOfRunners.splice(pos, 1);\n      this.setState({\n        runners: listOfRunners\n      });\n    } else {\n      alert(\"removing last runner is not possible\");\n    }\n  };\n\n  render() {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <h1>\n          <strike>Multi-Runner</strike> \"Single-Runner\" Lap Time Tracker built\n          in Next.js!\n        </h1>\n        {/*  */}\n        {/* Runners */}\n        {this.state.runners.map((runnerName, pos) => {\n          if (this.state.runners[0] === undefined) {\n            return null;\n          } else {\n            return (\n              <Runner\n                key={pos}\n                name={runnerName}\n                position={pos}\n                removeRunner={() => this.removeRunner(pos)}\n              />\n            );\n          }\n        })}\n        {!this.state.runnersSelected ? (\n          <div>\n            <input\n              type=\"text\"\n              value={this.state.nextRunnerName}\n              onChange={evt => this.updateNextRunnerName(evt)}\n            />\n            <button onClick={() => this.addRunner()}>Add Runner</button>\n            <br />\n          </div>\n        ) : null}\n        <br />\n        {/*  */}\n        {/* Timer Controlers */}\n        <div>\n          {!this.state.started ? (\n            <button\n              onClick={() => this.startTimer(convertToCentiSeconds(Date.now()))}\n            >\n              Start Timer\n            </button>\n          ) : (\n            <button\n              onClick={() => this.stopTimer(convertToCentiSeconds(Date.now()))}\n            >\n              Pause Timer\n            </button>\n          )}\n\n          {this.state.recordedTime > 0 && this.state.started == null ? (\n            <button\n              onClick={() => this.resetTimer(convertToCentiSeconds(Date.now()))}\n            >\n              Reset Timer\n            </button>\n          ) : null}\n          <br />\n        </div>\n        <br /> <br />\n        <hr />\n        <br /> <br />\n        {/*  */}\n        {/* Lap Runners */}\n        {this.state.runnersSelected == true ? (\n          <div style={{ display: \"inline-block\", margin: \"0 auto\" }}>\n            <Timer label=\"Total Time\" time={this.state.totalTime}></Timer>\n            <div style={{ display: \"flex\" }}>\n              {this.state.runners.map((runner, i) => {\n                return (\n                  <LapRunner\n                    key={i}\n                    name={runner}\n                    pos={i}\n                    laps={this.state.laps[runner]}\n                    addLap={() =>\n                      this.addLap(i, convertToCentiSeconds(Date.now()))\n                    }\n                  />\n                );\n              })}\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n","module.exports = require(\"react\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAVA;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAdA;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;;;AAKA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AAxBA;AA2BA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AARA;AACA;AAFA;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AA9DA;AAgEA;AAEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAxEA;AA0EA;AACA;AACA;AACA;AA7EA;AA+EA;AACA;AAEA;AAEA;AAAA;AAKA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAMA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3HA;AA6HA;AACA;AADA;AAGA;AACA;AAjIA;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAnJA;AAqJA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AA9JA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AA0HA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAMA;AACA;AAzPA;;;;;;;;;;;;;;;;;;;;;;;AChCA;;;;A","sourceRoot":""}